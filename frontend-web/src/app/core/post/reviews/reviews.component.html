<div class="p-5 md:p-20 bg-slate-200 my-10 lg:mx-64">
  <form
    [formGroup]="reviewForm"
    (ngSubmit)="onSubmitReview()"
    class="flex flex-col gap-5"
  >
    <div class="pb-10">
      <h2 class="text-3xl font-bold text-center text-gray-800 mb-8">Reviews</h2>
      <div>
        @for (review of postReviews; track $index) {
        <div class="flex gap-x-3">
          <p>
            <span class="font-semibold">Review Status:</span>
            {{ review.reviewStatus }}
          </p>
          @if(review.reviewMessage) {
          <p>: {{ review.reviewMessage }}</p>
          }
        </div>
        }
      </div>

      <div class="flex flex-col gap-y-3 mt-5">
        <div class="flex gap-x-5">
          <mat-radio-group aria-label="Review" formControlName="reviewStatus">
            <mat-radio-button
              value="APPROVED"
              (change)="onStatusChange('APPROVED')"
              >Approve</mat-radio-button
            >
            <mat-radio-button
              value="REJECTED"
              (change)="onStatusChange('REJECTED')"
              >Reject</mat-radio-button
            >
          </mat-radio-group>

          <mat-form-field appearance="fill" class="w-full">
            <mat-label>Message</mat-label>
            <input
              matInput
              id="reviewMessage"
              formControlName="reviewMessage"
              [required]="isRejected"
            />

            <mat-error> Message is verplicht </mat-error>
          </mat-form-field>
        </div>
      </div>

      <button
        type="button"
        (click)="onSubmitReview()"
        class="bg-green-500 hover:bg-green-700 text-white float-right font-bold mt-4 mb-4 py-2 px-2 rounded"
      >
        Submit Review
      </button>
    </div>
  </form>
</div>
